#!/bin/bash
{{ if eq .chezmoi.os "darwin" -}}
# Install Homebrew if missing
if ! command -v brew >/dev/null; then
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
fi
brew install fish tmux git curl mise coreutils

{{ else if and (eq .chezmoi.os "linux") (eq .chezmoi.osRelease.id "arch") -}}
sudo pacman -S --needed fish tmux git curl base-devel

{{ else if or (eq .chezmoi.osRelease.id "debian") (eq .chezmoi.osRelease.id "ubuntu") -}}
sudo apt-get update
sudo apt-get install -y fish tmux git curl build-essential

{{ end -}}
{{- if ne .chezmoi.os "darwin" }}
# Install mise on Linux
if ! command -v mise >/dev/null; then
  curl https://mise.run | sh
fi
{{ end -}}

# Install CLI tools via mise
mise install
